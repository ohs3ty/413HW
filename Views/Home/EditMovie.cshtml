@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    ViewBag.Title = "Edit Movie";
    ViewBag.HeaderTitle = "Edit Movie";
}

@model HW3_413.Models.MovieResponse

<!--Edit page-->
<form asp-action="EditMovie" method="post">

    <div class="mb-3">
        <span asp-validation-for="Title" class="text-danger"></span>
        <br />
        <label class="col-form-label" asp-for="Title">Title</label>
        <input class="form-control" asp-for="Title" value="@ViewBag.dbResponse.Title" />
    </div>

    <div class="mb-3">
        <span asp-validation-for="Category" class="text-danger"></span>
        <br />
        <label class="col-form-label" asp-for="Category"></label>
        <input class="form-control" asp-for="Category" value="@ViewBag.dbResponse.Category" />
    </div>

    <div class="mb-3">
        <span asp-validation-for="Year" class="text-danger"></span>
        <br />
        <label class="col-form-label" asp-for="Year"></label>
        <input class="form-control" asp-for="Year" value="@ViewBag.dbResponse.Year" />
    </div>

    <div class="mb-3">
        <span asp-validation-for="Director" class="text-danger"></span>
        <br />
        <label class="col-form-label" asp-for="Director"></label>
        <input class="form-control" asp-for="Director" value="@ViewBag.dbResponse.Director" />
    </div>

    <span asp-validation-for="Rating" class="text-danger"></span>
    <br />
    <label class="col-form-label" asp-for="Rating"></label>
    <div class="input-field col s12">
        <select class="form-control" asp-for="Rating">
            @foreach (var r in ViewBag.ratingArr)
            {
                if (r == ViewBag.dbResponse.Rating)
                {
                    <option selected value="@r">@r</option>
                }
                else
                {
                    <option value="@r">@r</option>
                }

            }
        </select>
    </div>

    <br />
    <label class="col-form-label" asp-for="Edited"></label>
    <div class="input-field col s12">
        <select class="form-control" asp-for="Edited">
            <option selected value="true">Yes</option>
            <option value="false">No</option>
        </select>
    </div>

    <br />
    <div class="mb-3">
        <label class="col-form-label" asp-for="Lent">Lent To</label>
        <input class="form-control" asp-for="Lent" value="@ViewBag.dbResponse.Lent" />
    </div>

    <div class="mb-3">
        <label class="col-form-label" asp-for="Notes"></label>
        <input class="form-control" asp-for="Notes" value="@ViewBag.dbResponse.Notes" />
    </div>

    <!-- Also send the id-->
    <input type="hidden" asp-for="MovieID" value="@ViewBag.dbResponse.MovieID" />
    <div class="text-center mb-3">
        <a class="btn btn-secondary" asp-controller="Home" asp-action="MovieList">Cancel</a>
        <input type="submit" class="btn btn-primary" value="Edit Movie">
    </div>
    <br /><br />
</form>

